---
title: Write-up Stocker [Easy] - Hack The Box (Informal)
date: 2023-04-13
categories: [Writeups, Hack The Box]
tags: [writeup, hackthebox, machines, easy, pentesting]
image: /assets/img/hackthebox/machines/stocker/stocker.png
image_link: false
---

Publicación del write-up de sujeto a las [guías generales](https://help.hackthebox.com/en/articles/5188925-streaming-writeups-walkthrough-guidelines) de Hack The Box.

# Write-up Stocker \[Easy\] - Hack The Box (Informal)
\\
**Mi perfil de Hack The Box: [julianglez16](https://app.hackthebox.com/users/1084561)**


Se hace enumeración para encontrar subdominios. Esta vez he usado ffuf porque gobuster vhost no me sacaba resultado. El endpoint es dev.stocker.htb. Una vez ahí aparece una página de login que se bypassea con un noSQLi modificando la cabecera "ContentType" de application/x-www-url-encoded a application/json y usar el siguiente payload: ```{"username": {"$ne": null}, "password": {"$ne": null} }```.



Una vez hecho eso se consigue bypassear el login y entrar a la página de dev. Con la aplicación de dev se puece hacer un LFI con html serialization debido a que el pdf que genera es vulnerable. Se lee el fichero /var/www/dev/index.js y se ve la contraseña del usuario angoose.



Una vez dentro de angoose se puede acceder a la flag del root creando un js que se puede ejecutar con sudo (`sudo -l`).
